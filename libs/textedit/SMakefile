## TextEdit-Makefile, 10.4.99
##
## Copyright ©1999 pinc Software Group

.c.o:
# sc $(OPTIMIZE) $(CFLAGS) $(DEBUG) define=CPU_$(CPU) cpu=$(CPU) gst=$(GST) gstimm objname=$*.o $*.c
  sc $(OPTIMIZE) $(CFLAGS) $(DEBUG) define=CPU_$(CPU) cpu=$(CPU) objname=$*.o $*.c

.c.oo:
# sc $(OPTIMIZE) $(CFLAGS) $(DEBUG) define=CPU_$(CPU) cpu=any gst=$(GST) gstimm objname=$*.oo $*.c
  sc $(OPTIMIZE) $(CFLAGS) $(DEBUG) define=CPU_$(CPU) cpu=any objname=$*.oo $*.c

.c.ooo:
# sc $(CFLAGS) $(DEBUG) define=CPU_$(CPU) cpu=$(CPU) gst=$(GST) gstimm objname=$*.ooo $*.c
  sc $(CFLAGS) $(DEBUG) define=CPU_$(CPU) cpu=$(CPU) objname=$*.ooo $*.c

.asm.o:
  asm -D -DCPU_$(CPU) -u $*.asm

CFLAGS         = streq strmerge nostkchk ign=147 cnest nover memsize=huge utillib
#CFLAGS          = streq strmerge nostkchk ign=147 cnest nover memsize=huge
#LFLAGS          = sc sd noicons swidth 22 map ram:test.map x
#LFLAGS          = sc sd noicons
LFLAGS          = sc sd nd noicons

OPTIMIZE        = optimize nooptinlocal opttime
#OPTIMIZE        = noopt
CPU            = 68020
#CPU             = ANY
#DEBUG           = debug=line
LIBS            = lib:amiga.lib lib:sc.lib
#lib:debug.lib
#GST            = include:all.gst

all:              pTextEdit.gadget

start:            pTextEdit.gadget
                  copy pTextEdit.gadget to SYS:Classes/Gadgets QUIET
                  flush >nil:

OBJS            = TextEdit_romtag.o TextEdit_lib.oo TextEdit.o \
                  TE_dispatch.o TE_draw.o TE_clip.o

pTextEdit.gadget: $(OBJS)
                  slink with t:TextEdit.with <<!(t:TextEdit.with)
                    from $(OBJS)
                    to $@
                    lib $(LIBS)
                    $(LFLAGS)
                    <

TextEdit_romtag.o: TextEdit_romtag.asm TextEdit_rev.i

